!function(e){"use strict";function t(e,t){if(L)return e.classList.contains(t);for(var n=e.className.split(" "),r=0;r<n.length;){if(n[r]===t)return!0;r++}return!1}function n(e,n){return L?e.classList.add(n):t(e,n)||(e.className+=" "+n),e}function r(e,t){if(L)e.classList.remove(t);else{for(var n=e.className.split(" "),r=n.length;r--;)n[r]==t&&n.splice(r,1);e.className=n.join(" ")}return e}function o(e,n){return L?e.classList.toggle(n):t(e,n)?r(e,n):e.className+=" "+n,e}function i(e,t,n){if("string"==typeof t&&!n){if(j)var r=getComputedStyle(e);else var r=e.currentStyle;return r[t]}if("string"==typeof t&&n)return e.style[t]=n,e;if(t instanceof Array){if(j){var r=getComputedStyle(e);return _.pick(r,t)}return _.pick(e.currentStyle,t)}return t instanceof Object?(_.extend(e.style,t),e):void 0}function s(e,t){if(k)return e[H](t);for(var n=e.parentNode.querySelectorAll(t),r=n.length,o=0;r>o;){if(n[o]==e)return!0;o++}return!1}function a(e,t){var n=e.querySelectorAll(t);return 1==n.length?n[0]:n}function u(e){return e.parentNode}function c(e){if(e.offsetTop&&e.offsetLeft){var t=e.offsetTop,n=e.offsetLeft;return{top:t,left:n}}}function f(e,t){if("object"==typeof t)return"number"==typeof t.top&&(t.top+="px"),"number"==typeof t.left&&(t.left+="px"),i(e,{position:"absolute",top:t.top,left:t.left}),e;var n=0,r=0;if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return n+=o.left,r+=o.top,{top:r,left:n}}}function l(e,t){return t?("number"==typeof t&&(t+="px"),i(e,"width",t),e):e.innerWidth?e.innerWidth:e.clientWidth?e.clientWidth:e.offsetWidth?e.offsetWidth:void 0}function p(e,t){return t?("number"==typeof t&&(t+="px"),i(e,"height",t),e):e.innerHeight?e.innerHeight:e.clientHeight?e.clientHeight:e.offsetHeight?e.offsetHeight:void 0}function d(e,t){var n=t.split("."),r=t,o=e;if(n.length>1){r=n.pop();for(var i=n.length;i--;)o=o[n[i]]}if("function"==typeof o[r]){var s=[];[].push.apply(s,arguments),[].splice.call(s,0,2);var a=o[r].apply(o,s);return a?a:e}return"number"!=typeof o[r]&&"string"!=typeof o[r]||3!==arguments.length?o[r]?o[r]:void 0:(o[r]=arguments[2],e)}function m(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0}function h(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1}function g(e,t,n){N?e.addEventListener(t,n,!1):("focus"==t&&(t="focusin"),"blur"==t&&(t="focusout"),e.attachEvent("on"+t,n))}function v(e,t,n){N?e.removeEventListener(t,n,!1):("focus"==t&&(t="focusin"),"blur"==t&&(t="focusout"),e.detachEvent("on"+t,n))}function y(e,t,n,r){var o;if("object"!=typeof e||t||n||r||e.object.addEventListener(e.eventType,e.callback,!1),"function"==typeof n)return g(e,t,n,!1),o={object:e,eventType:t,callback:r};if("string"==typeof n){var i=_.wrap(r,function(e,t){t.target&&s(t.target,n)&&e(t)});return g(e,t,i,!1),o={object:e,eventType:t,selector:n,callback:i}}}function b(e,t,n){"object"!=typeof e||t||n?v(e,t,n):v(e.object,e.eventType,e.callback)}function C(e,t,n){var r=n[0];switch(e){case"_addClass":case"_removeClass":case"_toggleClass":var o=r.className;return n[1]=n[1](t,o),n;case"_offset":var o=f(r);return n[1]=n[1](t,o),n;case"_width":var o=l(r);return n[1]=n[1](t,o),n;case"_height":var o=p(r);return n[1]=n[1](t,o),n;case"_css":var o=i(r,n[1]);return n[2]=n[2](t,o),n}}function E(e){return _.wrap(e,function(e){var t=arguments[1];if(t.length){var n=[],r=0;if(("_height"===e.name||"_width"===e.name||"_position"===e.name||"_offset"===e.name)&&2===arguments.length||"_css"===e.name&&3===arguments.length){var o=[];return[].push.apply(o,arguments),[].splice.call(o,0,2),[].unshift.call(o,t[0]),e.apply(e,o)}for(;r<t.length;){var o=[];[].push.apply(o,arguments),[].splice.call(o,0,2),[].unshift.call(o,t[r]),console.log(o),console.log(e.name),(("_addClass"===e.name||"_removeClass"===e.name||"_toggleClass"===e.name||"_offset"===e.name||"_width"===e.name||"_height"===e.name)&&"function"==typeof o[1]||"_css"===e.name&&"function"==typeof o[2])&&(console.log("decoratore!"),o=C(e.name,r,o));var i=e.apply(e,o);i.length?n.push.apply(n,i):n.push(i),r++}return n}var o=[];return[].push.apply(o,arguments),[].splice.call(o,0,1),e.apply(e,o)})}function S(e){var t={};e||(e={});var n={publish:function(e,n){if(!t[e])return!1;for(var r=t[e],o=r.length;o--;)r[o].func(e,n);return this},subscribe:function(e,n){if("object"==typeof e&&!n)return t[e.topic].push(e),e;if("string"==typeof e&&n){t[e]||(t[e]=[]);var r=_.uniqueId(),o={topic:e,id:r,func:n};return t[e].push(o),o}return this},unsubscribe:function(e){if(t[e.topic])for(var n=0;n<t[e.topic].length;n++)if(t[e.topic][n].id===e.id)return t[e.topic].splice(n,1),e;return this}};return _.extend(e,n),e}function w(e){var t=e.match(/^#\w+$/);if(t)return document.getElementById(e.slice(1));var n=document.querySelectorAll(e);return 1==n.length?n[0]:n}function x(e){return"string"==typeof e?_(w(e)):_(e)}var L="undefined"==typeof e.Element||"classList"in e.document.documentElement,j=e.getComputedStyle,N=window.addEventListener,k=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;if(k)var H=k.name;var T={hasClass:E(t),addClass:E(n),removeClass:E(r),toggleClass:E(o),css:E(i),is:E(s),find:E(a),parent:E(u),position:E(c),offset:E(f),width:E(l),height:E(p),vanilla:E(d),on:E(y),off:E(b)};_.mixin(T),x.tools={Publisher:S,stopPropagation:m,preventDefault:h},"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(module.exports=x),exports._dom=x),"function"==typeof define&&define.amd&&define("underscore.dom",["underscore-amd"],function(){return x}),e._dom=x}(this);
//# sourceMappingURL=underscore.dom-min.map